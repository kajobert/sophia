services:
  app:
    # Sestaví image z Dockerfile v aktuálním adresáři
    build: .
    # Název kontejneru pro snadnější identifikaci
    container_name: sophia_dev_container
    # Připojí aktuální adresář do /app v kontejneru
    # To umožňuje "live-reloading", kdy se změny v kódu okamžitě projeví
    volumes:
      - .:/app
    # Načte proměnné prostředí ze souboru .env v kořenovém adresáři
    env_file:
      - .env
    # Pro interaktivní TUI aplikaci nepotřebujeme mapovat porty.
    # Klíčové je ponechat standardní vstup otevřený a přidělit TTY.
    stdin_open: true
    tty: true